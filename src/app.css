@layer reset, base, components, utilities;
@import "@unocss/reset/tailwind.css" layer(reset);

/*
 * Crystalline Observatory Theme
 * A dark, ambient space where translucent data panels float
 * like crystalline displays in a futuristic media observatory.
 * OKLCH color format for modern color gamut support
 */

:root {
	color-scheme: light;

	/* Core colors - Light mode (raw OKLCH values for UnoCSS compatibility) */
	--background: 0.96 0.008 260;
	--foreground: 0.25 0.02 260;
	--card: 0.98 0.005 260;
	--card-foreground: 0.25 0.02 260;
	--popover: 0.98 0.005 260;
	--popover-foreground: 0.25 0.02 260;
	--primary: 0.65 0.16 195;
	--primary-foreground: 0.98 0 0;
	--secondary: 0.88 0.03 260;
	--secondary-foreground: 0.25 0.02 260;
	--muted: 0.92 0.01 260;
	--muted-foreground: 0.5 0.02 260;
	--accent: 0.72 0.12 280;
	--accent-foreground: 0.98 0 0;
	--destructive: 0.55 0.22 25;
	--destructive-foreground: 0.98 0 0;
	--border: 0.88 0.015 260;
	--input: 0.92 0.01 260;
	--ring: 0.65 0.16 195;
	--radius: 0.75rem;

	/* Glass surfaces - Light mode */
	--glass: 0.96 0.01 260;
	--glass-border: 0.85 0.02 260;
	--glass-highlight: 0.99 0 0;

	/* Sidebar - Light mode */
	--sidebar: 0.97 0.008 260;
	--sidebar-foreground: 0.25 0.02 260;
	--sidebar-primary: 0.65 0.16 195;
	--sidebar-primary-foreground: 0.98 0 0;
	--sidebar-accent: 0.92 0.03 260;
	--sidebar-accent-foreground: 0.25 0.02 260;
	--sidebar-border: 0.88 0.015 260;
	--sidebar-ring: 0.65 0.16 195;

	/* Connector accent colors (prismatic lights) */
	--accent-sonarr: 0.62 0.18 250;
	--accent-radarr: 0.68 0.19 55;
	--accent-whisparr: 0.58 0.2 310;
	--accent-prowlarr: 0.6 0.15 170;

	/* Status colors */
	--success: 0.65 0.18 150;
	--warning: 0.75 0.16 80;

	/* Chart colors - Light mode */
	--chart-1: 0.65 0.16 195;
	--chart-2: 0.62 0.18 250;
	--chart-3: 0.68 0.19 55;
	--chart-4: 0.58 0.2 310;
	--chart-5: 0.6 0.15 170;
}

.dark {
	color-scheme: dark;

	/* Core colors - Dark mode - Deep space background */
	--background: 0.12 0.025 270;
	--foreground: 0.92 0.01 260;
	--card: 0.18 0.025 265;
	--card-foreground: 0.92 0.01 260;
	--popover: 0.16 0.025 268;
	--popover-foreground: 0.92 0.01 260;
	--primary: 0.72 0.14 195;
	--primary-foreground: 0.12 0.02 270;
	--secondary: 0.28 0.03 265;
	--secondary-foreground: 0.88 0.01 260;
	--muted: 0.25 0.02 265;
	--muted-foreground: 0.65 0.02 260;
	--accent: 0.55 0.14 280;
	--accent-foreground: 0.95 0.01 260;
	--destructive: 0.55 0.22 25;
	--destructive-foreground: 0.98 0 0;
	--border: 0.3 0.025 265;
	--input: 0.22 0.025 268;
	--ring: 0.72 0.14 195;

	/* Glass surfaces - Dark mode (crystalline effect) */
	--glass: 0.2 0.03 268;
	--glass-border: 0.35 0.03 265;
	--glass-highlight: 0.95 0.01 260;

	/* Sidebar - Dark mode */
	--sidebar: 0.14 0.025 270;
	--sidebar-foreground: 0.9 0.01 260;
	--sidebar-primary: 0.72 0.14 195;
	--sidebar-primary-foreground: 0.12 0.02 270;
	--sidebar-accent: 0.25 0.04 280;
	--sidebar-accent-foreground: 0.92 0.01 260;
	--sidebar-border: 0.28 0.025 268;
	--sidebar-ring: 0.72 0.14 195;

	/* Connector accent colors (prismatic lights) */
	--accent-sonarr: 0.65 0.18 250;
	--accent-radarr: 0.72 0.19 55;
	--accent-whisparr: 0.62 0.2 310;
	--accent-prowlarr: 0.65 0.15 170;

	/* Status colors */
	--success: 0.68 0.18 150;
	--warning: 0.78 0.16 80;

	/* Chart colors - Dark mode */
	--chart-1: 0.72 0.14 195;
	--chart-2: 0.65 0.18 250;
	--chart-3: 0.72 0.19 55;
	--chart-4: 0.62 0.2 310;
	--chart-5: 0.65 0.15 170;
}

@layer base {
	* {
		border-color: oklch(var(--border));
	}
}

/*
 * Body styles outside @layer for higher specificity.
 * Ensures theme colors override reset styles.
 */
html body {
	background: oklch(var(--background));
	color: oklch(var(--foreground));
	font-family: "Plus Jakarta Sans", system-ui, sans-serif;
}

/* Deep space ambient background for dark mode */
.dark body {
	background:
		radial-gradient(ellipse 120% 80% at 50% -20%, oklch(0.18 0.04 280 / 0.5), transparent 60%),
		radial-gradient(ellipse 100% 60% at 80% 100%, oklch(0.15 0.03 250 / 0.3), transparent 50%),
		radial-gradient(ellipse 80% 50% at 10% 80%, oklch(0.14 0.025 310 / 0.2), transparent 50%),
		oklch(var(--background));
	background-attachment: fixed;
}

/* Headings use display font */
h1,
h2,
h3,
h4,
h5,
h6 {
	font-family: "Outfit", system-ui, sans-serif;
	font-weight: 600;
	letter-spacing: -0.02em;
}

/*
 * Native select element styling for proper dark mode support.
 * Ensures dropdown options are readable in both themes.
 */
select {
	color-scheme: inherit;
}

select option {
	background-color: oklch(var(--popover));
	color: oklch(var(--popover-foreground));
}

/*
 * Glass effect utilities
 */
@layer components {
	/* Base glass panel */
	.glass-panel {
		background: oklch(var(--glass) / 0.6);
		backdrop-filter: blur(20px);
		-webkit-backdrop-filter: blur(20px);
		border: 1px solid oklch(var(--glass-border) / 0.3);
		border-radius: var(--radius);
	}

	/* Elevated glass with more blur and shadow */
	.glass-elevated {
		background: oklch(var(--glass) / 0.7);
		backdrop-filter: blur(32px);
		-webkit-backdrop-filter: blur(32px);
		border: 1px solid oklch(var(--glass-border) / 0.4);
		border-radius: var(--radius);
		box-shadow:
			0 8px 32px oklch(0 0 0 / 0.15),
			0 0 0 1px oklch(var(--glass-highlight) / 0.05) inset;
	}

	/* Subtle glass for backgrounds */
	.glass-subtle {
		background: oklch(var(--glass) / 0.4);
		backdrop-filter: blur(12px);
		-webkit-backdrop-filter: blur(12px);
		border: 1px solid oklch(var(--glass-border) / 0.2);
	}

	/* Inner highlight for depth */
	.glass-inner-glow {
		box-shadow: 0 1px 0 0 oklch(var(--glass-highlight) / 0.1) inset;
	}

	/* Prismatic border glow effect */
	.glow-border {
		position: relative;
	}

	.glow-border::before {
		content: "";
		position: absolute;
		inset: -1px;
		border-radius: inherit;
		background: linear-gradient(
			135deg,
			oklch(var(--accent-sonarr) / 0.3),
			oklch(var(--primary) / 0.2),
			oklch(var(--accent-whisparr) / 0.3)
		);
		z-index: -1;
		opacity: 0;
		transition: opacity 0.3s ease;
	}

	.glow-border:hover::before,
	.glow-border:focus-within::before {
		opacity: 1;
	}
}

/*
 * Animation keyframes
 */
@keyframes pulse-glow {
	0%,
	100% {
		opacity: 0.5;
	}
	50% {
		opacity: 1;
	}
}

@keyframes shimmer {
	0% {
		transform: translateX(-100%);
	}
	100% {
		transform: translateX(100%);
	}
}

@keyframes float-up {
	0% {
		opacity: 0;
		transform: translateY(10px);
	}
	100% {
		opacity: 1;
		transform: translateY(0);
	}
}

/* Staggered animation delays for card grids */
.animate-stagger > *:nth-child(1) {
	animation-delay: 0ms;
}
.animate-stagger > *:nth-child(2) {
	animation-delay: 50ms;
}
.animate-stagger > *:nth-child(3) {
	animation-delay: 100ms;
}
.animate-stagger > *:nth-child(4) {
	animation-delay: 150ms;
}
.animate-stagger > *:nth-child(5) {
	animation-delay: 200ms;
}
.animate-stagger > *:nth-child(6) {
	animation-delay: 250ms;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
	}
}
